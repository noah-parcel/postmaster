<!DOCTYPE html>
<html>
<head>
<style>
td{width:30px;height:30px;text-align:center;}
</style>
<script>
const words = new Set(["list","your","common","words","here"]);
document.addEventListener("DOMContentLoaded", () => {
  const p = document.getElementById("pool");
  const g = document.getElementById("grid");
  const f = document.getElementById("found");
  p.innerHTML = randStr(16);
  g.onclick = e => {
    const t = e.target;
    if (t.tagName == "TD") {
      t.innerText = p.innerText[0];
      p.innerHTML = p.innerText.slice(1) + randChar();
      const w = getWords(g);
      f.innerHTML = w.filter(x => words.has(x)).join(", ");
    }
  };
});
function randChar() {
  return String.fromCharCode(97 + Math.floor(Math.random() * 26));
}
function randStr(n) {
  return [...Array(n)].map(randChar).join("");
}
function getWords(g) {
  const w = [];
  for (let y = 0; y < 4; y++) {
    for (let x = 0; x < 4; x++) {
      for (const dx of [-1, 0, 1]) {
        for (const dy of [-1, 0, 1]) {
          if (dx || dy) {
            const s = [...Array(4)].map((_, i) => {
              const nx = x + i * dx;
              const ny = y + i * dy;
              if (nx >= 0 && nx < 4 && ny >= 0 && ny < 4) {
                return g.rows[ny].cells[nx].innerText;
              }
            }).join("");
            if (s.length == 4) w.push(s);
          }
        }
      }
    }
  }
  return w;
}
</script>
</head>
<body>
<p id="pool"></p>
<table id="grid"><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr></table>
<p>Words: <span id="found"></span></p>
</body>
</html>
